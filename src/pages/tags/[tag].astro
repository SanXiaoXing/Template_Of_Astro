---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Tagpage from '../../components/blog/Tagpage.astro';
import { ViewTransitions } from 'astro:transitions';

export async function getStaticPaths() {

    const paths = [];

    const blog = await getCollection('blog');
    const tags = [...new Set([].concat.apply([], blog.map(post => post.data.tags)))];
    // 为每个标签生成路径对象
    const langPaths = tags.map((tag) => {
        return {
            params: { tag }, // 使用当前语言变量
        };
    });
    // 将当前语言的路径合并到总路径数组中
    paths.push(...langPaths);
    
    return paths;
}
---
<Layout
  comments={false}
>
<a href=`/tags`><div class="back">返回标签页</div></a>
<Tagpage />
<ViewTransitions />
<style>
    a {
        display: flex;
    }
    a:hover {
        text-decoration: none;
    }
    .back {
        display: inline-block;
        padding: 7px 0;
        border-radius: 10px;
        margin: 10px;
        position: relative; /* 确保伪元素能够相对于这个容器元素定位 */
    }

    .back:hover:before {
        content: '←'; /* 箭头字符 */
        position: absolute;
        left: -15px; /* 箭头相对于容器的左边距 */
        -webkit-animation: scale-up-hor-right 0.4s cubic-bezier(0.680, -0.550, 0.265, 1.550) alternate ;
        animation: scale-up-hor-right 0.4s cubic-bezier(0.680, -0.550, 0.265, 1.550) alternate ;
    }
    /* ----------------------------------------------
    * Generated by Animista on 2024-6-15 20:34:1
    * Licensed under FreeBSD License.
    * See http://animista.net/license for more info. 
    * w: http://animista.net, t: @cssanimista
    * ---------------------------------------------- */

    /**
    * ----------------------------------------
    * animation scale-up-hor-right
    * ----------------------------------------
    */
    @-webkit-keyframes scale-up-hor-right {
    0% {
        -webkit-transform: scaleX(0.4);
                transform: scaleX(0.4);
        -webkit-transform-origin: 100% 100%;
                transform-origin: 100% 100%;
    }
    100% {
        -webkit-transform: scaleX(1);
                transform: scaleX(1);
        -webkit-transform-origin: 100% 100%;
                transform-origin: 100% 100%;
    }
    }
    @keyframes scale-up-hor-right {
    0% {
        -webkit-transform: scaleX(0.4);
                transform: scaleX(0.4);
        -webkit-transform-origin: 100% 100%;
                transform-origin: 100% 100%;
    }
    100% {
        -webkit-transform: scaleX(1);
                transform: scaleX(1);
        -webkit-transform-origin: 100% 100%;
                transform-origin: 100% 100%;
    }
    }


    main {
        width: 960px;
    }
    ul {
        /* display: flex; */
        flex-wrap: wrap;
        gap: 2rem;
        list-style-type: none;
        margin: 0;
        padding: 0;
    }
    ul li {
        display: flex;
        margin-top: 1rem;
    }
    ul li * {

        text-decoration: none;
        transition: 0.2s ease;
    }

    ul li a {
        display: flex;
    }

    ul li h5{
        text-align: center;
    }
    .title {
        margin: 0;
        line-height: 1;
    }
    .date {
        
        padding-right: 2rem;
        margin: 0;
        color: var(--gray);
    }

    /* 标题变色: */
    ul li a:hover h5,
    ul li a:hover .date {
        color: var(--orange);
    }
    ul a:hover img {
        box-shadow: var(--box-shadow);
    }
    @media (max-width: 720px) {
        ul {
            gap: 0.5em;
        }
        ul li {
            display:inherit;
            width: 100%;
            /* text-align: center; */
        }

    }
    a {
      color: var(--hc);
      text-decoration: none;
      transition: 0.2s ease;
      font-family: var(--font-family-mono)
    }
    a:hover {
      transition: 0.2s ease;
      color: var(--orange);
    }
</style>
</Layout>